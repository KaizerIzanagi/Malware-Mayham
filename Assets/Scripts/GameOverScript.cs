using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class GameOverScript : MonoBehaviour
{
    [Header("Called Scripts")]
    public MenuScript menuScript;
    public GameScript gameScript;
    public PlayerScript playerScript;

    void Update()
    {
        if (gameScript.currentDetection >= 100 || playerScript.currentHealth <= 0)
        {
            menuScript.gameOver.SetActive(true);
        }
    }

    public void RetryGame()
    {
        RestartValues();
        gameScript.points = 0;
        menuScript.gameOver.SetActive(false);
        menuScript.gameProper.SetActive(true);
    }

    public void UpgradeMenu()
    {
        RestartValues();
        menuScript.upgradeMenu.SetActive(true);
        menuScript.gameOver.SetActive(false);
    }

    public void RestartValues()
    {
        gameScript.currentDetection = gameScript.minDetection;
        playerScript.currentHealth = playerScript.maxHealth;
    }
}
